"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.identifyAnonymousNode = exports.usedInNestedScope = exports.insideComponent = void 0;
var sha1_1 = require("../../../utils/sha1");
function insideComponent(scope) {
    var _a;
    while (scope) {
        if ((_a = scope.ownerNode) === null || _a === void 0 ? void 0 : _a.data.isComponent) {
            return true;
        }
        scope = scope.parentScope;
    }
    return false;
}
exports.insideComponent = insideComponent;
function usedInNestedScope(decl, declScope, currentScope) {
    var flags = (decl === null || decl === void 0 ? void 0 : decl.flags) || {};
    var noOtherFlags = !(flags.External) && !(flags.Local) && !(flags.DereferencedImport) && !(flags.HoistedToModule);
    return !!decl && !currentScope.isRoot() && declScope !== currentScope && noOtherFlags;
}
exports.usedInNestedScope = usedInNestedScope;
function identifyAnonymousNode(node) {
    return 'anon_' + sha1_1.sha1(node.getText()).substr(0, 7);
}
exports.identifyAnonymousNode = identifyAnonymousNode;
