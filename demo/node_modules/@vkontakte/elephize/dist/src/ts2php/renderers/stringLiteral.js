"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.tStringLiteral = void 0;
var ts = require("typescript");
var escapeString_1 = require("../utils/escapeString");
var ast_1 = require("../utils/ast");
var html_entities_1 = require("html-entities");
function tStringLiteral(node, context) {
    if (node.text === 'use strict') { // remove use strict; TODO: can affect random strings containing 'use strict'
        ast_1.flagParentOfType(node, [ts.SyntaxKind.ExpressionStatement], { drop: true }, context.nodeFlagsStore);
    }
    if (node.parent.kind === ts.SyntaxKind.JsxAttribute || node.parent.kind === ts.SyntaxKind.JsxExpression) {
        // decode html entities for literal strings in jsx
        return '"' + escapeString_1.escapeHtml(html_entities_1.decode(node.text)) + '"';
    }
    return '"' + escapeString_1.escapeString(node.text) + '"';
}
exports.tStringLiteral = tStringLiteral;
